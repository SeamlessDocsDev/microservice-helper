{"version":3,"sources":["../lib/validate.js"],"names":["JoiObjectId","joiValidator","type","validatePromisified","objectToValidate","schema","Promise","resolve","reject","validate","err","result","validateElementPromisified","elementToValidate","v"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,cAAc,yCAApB;;AAEA,SAASC,YAAT,CAAuBC,IAAvB,EAA6B;AAC3B,MAAIA,SAAS,UAAb,EAAyB,OAAOF,WAAP;AACzB,MAAI,OAAO,cAAIE,IAAJ,CAAP,KAAqB,UAAzB,EAAqC,OAAO,cAAIA,IAAJ,CAAP;AACtC;;AAED,SAASC,mBAAT,CAA6BC,gBAA7B,EAA+CC,MAA/C,EAAuD;;AAErD,SAAO,IAAIC,OAAJ,CAAc,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAExC,kBAAIC,QAAJ,CAAaL,gBAAb,EAA+BC,MAA/B,EAAuC,UAACK,GAAD,EAAMC,MAAN,EAAiB;AACtD,UAAGD,GAAH,EAAQ,OAAOF,OAAOE,GAAP,CAAP;;AAERH,cAAQI,MAAR;AACD,KAJD;AAMD,GARM,CAAP;AAUD;;AAED,SAASC,0BAAT,CAAoCC,iBAApC,EAAuDX,IAAvD,EAA6D;;AAE3D,SAAO,IAAII,OAAJ,CAAc,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAExC,QAAIM,IAAIb,aAAaC,IAAb,CAAR;;AAEA,kBAAIO,QAAJ,CAAaI,iBAAb,EAAgCC,GAAhC,EAAqC,UAACJ,GAAD,EAAMC,MAAN,EAAiB;AACpD,UAAGD,GAAH,EAAQ,OAAOF,OAAOE,GAAP,CAAP;;AAERH,cAAQI,MAAR;AACD,KAJD;AAMD,GAVM,CAAP;AAWD;;kBAEc,EAAER,wCAAF,EAAuBS,sDAAvB,E","file":"validate.js","sourcesContent":["import Joi from 'joi'\nimport JoiObjectIdModule from 'joi-objectid'\n\nconst JoiObjectId = JoiObjectIdModule(Joi)\n\nfunction joiValidator (type) {\n  if (type === 'ObjectId') return JoiObjectId\n  if (typeof Joi[type] === 'function') return Joi[type]\n}\n\nfunction validatePromisified(objectToValidate, schema) {\n\n  return new Promise ( (resolve, reject) => {\n\n    Joi.validate(objectToValidate, schema, (err, result) => {\n      if(err) return reject(err)\n\n      resolve(result)\n    })\n\n  })\n\n}\n\nfunction validateElementPromisified(elementToValidate, type) {\n\n  return new Promise ( (resolve, reject) => {\n\n    let v = joiValidator(type) \n\n    Joi.validate(elementToValidate, v(), (err, result) => {\n      if(err) return reject(err)\n\n      resolve(result)\n    })\n\n  })\n}\n\nexport default { validatePromisified, validateElementPromisified }\n"]}